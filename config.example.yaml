# ownmail example configuration
# Copy this file to config.yaml and adjust to your needs.
# All fields below are optional unless marked as required.

# Directory where email .eml files are stored.
# Relative paths are resolved from the working directory.
# Default: ./archive
archive_root: /path/to/emails

# Optional: store the database (ownmail.db) in a separate directory.
# Useful when emails live on a NAS/external drive but you want
# the database on a fast local SSD for snappy search.
# Default: same as archive_root
# db_dir: /path/to/fast/local/storage

# ─── Email Sources ────────────────────────────────────────────

sources:
  # Gmail via API (recommended)
  - name: personal                        # unique name for this source
    type: gmail_api                        # required
    account: you@gmail.com                 # required: Gmail address
    auth:
      secret_ref: keychain:oauth-token/you@gmail.com  # required
    include_labels: true                   # fetch Gmail labels (default: true)

  # You can add multiple sources:
  # - name: work
  #   type: gmail_api
  #   account: you@company.com
  #   auth:
  #     secret_ref: keychain:oauth-token/you@company.com
  #   include_labels: true

# ─── Web Interface ────────────────────────────────────────────

web:
  # Number of search results per page (1-500).
  # Default: 20
  page_size: 50

  # Block external images in emails by default (for privacy/security).
  # Images from trusted_senders are always shown.
  # Default: true
  block_images: true

  # Scale down wide HTML emails to fit the viewport.
  # Default: true
  auto_scale: true

  # Custom branding name shown in the header and page titles.
  # Default: ownmail
  # brand_name: My Mail Archive

  # Timezone for displaying email dates.
  # Uses IANA timezone names (e.g., America/New_York, Asia/Tokyo).
  # Default: server local timezone
  # timezone: America/New_York

  # Date format for search results (Python strftime).
  # Default: %b %d, %Y (e.g., "Jan 26, 2025")
  # date_format: '%b %d, %Y'

  # Date format for the message detail view (Python strftime).
  # Default: %a, %d %b %Y %H:%M:%S (e.g., "Tue, 27 Jan 2026 07:16:05")
  # detail_date_format: '%a, %d %b %Y %H:%M:%S'

  # Email addresses whose images are always loaded,
  # even when block_images is on. One per line.
  # Default: []
  trusted_senders:
    - noreply@example.com
    - billing@example.com
